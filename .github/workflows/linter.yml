name: lint

on: 
  push:
    branches:
      - main
      - develop 
    paths:
      - 'source/**'
      - '.github/**'
  pull_request:
    branches:
      - main
      - develop 
    paths:
      - 'source/**'
      - '.github/**'

jobs: 
  
  super-lint:
    name: Lint Code Base
    runs-on: ubuntu-latest

        
    steps:
      - name: Checkout Code
        uses: actions/checkout@v2
      - name: Remove files
        run: |
          echo 'path:'
          pwd
          ls -a ./
          GLOBIGNORE=source:.github:.git:.gitignore
          rm -rfv *
          unset GLOBIGNORE
          rm -rf source/build
          ls -a ./
      - name: Run Linter
        uses: github/super-linter@v3
        env:
          DEFAULT_BRANCH: main
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
